{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{FaLeaf}from\"react-icons/fa6\";import fetcher from\"../fetcher.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Clean(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),time=_useState4[0],setTime=_useState4[1];var getMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fetchedData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetcher(\"get\",\"/town/ranking/\");case 2:fetchedData=_context.sent;setData(fetchedData.ranking);setTime(fetchedData.update_at);case 5:case\"end\":return _context.stop();}},_callee);}));return function getMessages(){return _ref.apply(this,arguments);};}();useEffect(function(){getMessages();console.log('서버 연결 완료');console.log(data);},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sub_title\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD638\\uB0A8 \\uB18D\\uCD0C \",/*#__PURE__*/_jsx(FaLeaf,{color:\"#79A73F\"}),\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD074\\uB9B0\\uB9C8\\uC744 \\uC21C\\uC704\\uB97C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD655\\uC778\\uD574 \\uBCF4\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uADC0\\uB18D \\uD76C\\uB9DD\\uC790\\uB4E4\\uC744 \\uC704\\uD55C \\uB9C8\\uC744 \\uBCC4 \\uD3C9\\uAC00\\uC5D0 \\uAE30\\uBC18\\uD55C \\uC21C\\uC704\\uC785\\uB2C8\\uB2E4. \",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC5EC\\uB7EC \\uD074\\uB9B0\\uB9C8\\uC744 \\uB7AD\\uD0B9\\uC744 \\uC54C\\uC544\\uBCF4\\uC138\\uC694!\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"gradient_box\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"rank_head\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD638\\uB0A8 \\uB18D\\uCD0C \\uD074\\uB9B0\\uB9C8\\uC744 \\uC21C\\uC704\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC5C5\\uB370\\uC774\\uD2B8 \\uC77C\\uC2DC \",/*#__PURE__*/_jsx(\"em\",{children:time})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rank_boxs\",children:Object.entries(data).map(function(_ref2,idx){var _ref3=_slicedToArray(_ref2,2),region=_ref3[0],rankingArray=_ref3[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"rank_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rank_box_top\",children:[/*#__PURE__*/_jsx(\"h3\",{children:region}),/*#__PURE__*/_jsx(\"a\",{href:\"/Clean_more?num=\"+idx,children:\"\\uB354\\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"rank_lists\",children:rankingArray.slice(0,5).map(function(_ref4,index){var _ref5=_slicedToArray(_ref4,3),img=_ref5[0],village=_ref5[1],score=_ref5[2];return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[index+1,\"\\uC704\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rank_img\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000\"+img,alt:\"\"})})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:village})}),/*#__PURE__*/_jsxs(\"h3\",{children:[score!==null?score.toFixed(1):'N/A',/*#__PURE__*/_jsx(\"em\",{children:\"/5\"})]})]},index);})})]},region);})})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","FaLeaf","fetcher","jsx","_jsx","jsxs","_jsxs","Clean","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","time","setTime","getMessages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchedData","wrap","_callee$","_context","prev","next","sent","ranking","update_at","stop","apply","arguments","console","log","children","className","color","class","Object","entries","map","_ref2","idx","_ref3","region","rankingArray","href","slice","_ref4","index","_ref5","img","village","score","src","alt","toFixed"],"sources":["C:/Users/LG/Desktop/오아시스/main/frontend/src/screens/Clean.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FaLeaf } from \"react-icons/fa6\";\r\nimport fetcher from \"../fetcher.js\";\r\n\r\nexport default function Clean() {\r\n    \r\n    const [data, setData] = useState([]);\r\n    const [time, setTime] = useState();\r\n\r\n    const getMessages = async () => {\r\n        const fetchedData = await fetcher(\"get\", \"/town/ranking/\");\r\n        setData(fetchedData.ranking);\r\n        setTime(fetchedData.update_at);\r\n    };\r\n      \r\n    useEffect(() => {\r\n        getMessages();\r\n        console.log('서버 연결 완료');\r\n        console.log(data);\r\n    }, []);\r\n\r\n    return (\r\n        <main>\r\n            <div className=\"sub_title\">\r\n                <div className=\"inner_wrap\">\r\n                    <p>호남 농촌 <FaLeaf color=\"#79A73F\"></FaLeaf> </p>\r\n                    <p>클린마을 순위를</p>\r\n                    <p>확인해 보세요</p>\r\n                    <span>\r\n                        귀농 희망자들을 위한 마을 별 평가에 기반한 순위입니다. <br />\r\n                        여러 클린마을 랭킹을 알아보세요!\r\n                    </span>\r\n                </div>\r\n                <div className=\"gradient_box\"></div>\r\n            </div>\r\n            <div className=\"rank\">\r\n                <div className=\"inner_wrap\">\r\n                    <div class=\"rank_head\">\r\n                            <p>호남 농촌 클린마을 순위</p>        \r\n                            <span>업데이트 일시 <em>{time}</em></span>\r\n                    </div>\r\n                    <div className=\"rank_boxs\">\r\n                        {Object.entries(data).map(([region, rankingArray], idx) => (\r\n                            <div className=\"rank_box\" key={region}>\r\n                                <div className=\"rank_box_top\">\r\n                                    <h3>{region}</h3>\r\n                                    <a href={\"/Clean_more?num=\"+idx}>더보기</a>\r\n                                </div>\r\n                                <ul className=\"rank_lists\">\r\n                                {rankingArray.slice(0, 5).map(([img, village, score], index) => (\r\n                                    <li key={index}>\r\n                                        <p>{index + 1}위</p>\r\n                                        <div className=\"rank_img\"><a href=\"#\"><img src={\"http://localhost:8000\" + img} alt=\"\" /></a></div>\r\n                                        <span><a href=\"#\">{village}</a></span>\r\n                                        <h3>{score !== null ? score.toFixed(1) : 'N/A'}<em>/5</em></h3>\r\n                                    </li>\r\n                                ))}\r\n                                </ul>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}