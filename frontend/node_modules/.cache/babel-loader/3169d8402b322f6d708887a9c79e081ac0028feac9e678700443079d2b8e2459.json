{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/LG/Desktop/\\uC624\\uC544\\uC2DC\\uC2A4/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate,useLocation}from'react-router-dom';import{FaLeaf}from\"react-icons/fa6\";import fetcher from\"../fetcher.js\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Clean(){var location=useLocation();var searchParams=new URLSearchParams(location.search);var num=searchParams.get('num');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),time=_useState6[0],setTime=_useState6[1];var getMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fetchedData,keys;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetcher(\"get\",\"/town/ranking/\");case 2:fetchedData=_context.sent;keys=Object.keys(fetchedData.ranking);setData(fetchedData.ranking[keys[num]]);setTitle(keys[num]);setTime(fetchedData.update_at);console.log(keys[num]);case 8:case\"end\":return _context.stop();}},_callee);}));return function getMessages(){return _ref.apply(this,arguments);};}();useEffect(function(){getMessages();console.log('서버 연결 완료');console.log(data);},[]);return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"rank\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner_wrap\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"rank_head\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[title,\" \\uD074\\uB9B0\\uB9C8\\uC744 \\uC21C\\uC704\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uC5C5\\uB370\\uC774\\uD2B8 \\uC77C\\uC2DC \",/*#__PURE__*/_jsx(\"em\",{children:time})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rank_boxs\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rank_box_more\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"rank_lists\",children:data.map(function(_ref2,index){var _ref3=_slicedToArray(_ref2,8),img=_ref3[0],village=_ref3[1],score=_ref3[2],area_welfare=_ref3[3],town_welfare=_ref3[4],town_culture=_ref3[5],town_facility=_ref3[6],town_citizen=_ref3[7];return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[index+1,\"\\uC704\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rank_img\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8000\"+img,alt:\"\"})})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:village})}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"\\uC9C0\\uC5ED \\uBCF5\\uC9C0:\",/*#__PURE__*/_jsx(\"span\",{children:area_welfare}),\" \\uB9C8\\uC744 \\uBCF5\\uC9C0:\",/*#__PURE__*/_jsx(\"span\",{children:town_welfare}),\" \\uB9C8\\uC744 \\uBB38\\uD654:\",/*#__PURE__*/_jsx(\"span\",{children:town_culture}),\" \\uB9C8\\uC744 \\uC2DC\\uC124:\",/*#__PURE__*/_jsx(\"span\",{children:town_facility}),\" \\uB9C8\\uC744 \\uC8FC\\uBBFC:\",/*#__PURE__*/_jsx(\"span\",{children:town_citizen})]}),/*#__PURE__*/_jsxs(\"h3\",{children:[score!==null?score.toFixed(1):'N/A',/*#__PURE__*/_jsx(\"em\",{children:\"/5\"})]})]},index);})})})})]})})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","FaLeaf","fetcher","jsxs","_jsxs","jsx","_jsx","Clean","location","searchParams","URLSearchParams","search","num","get","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","title","setTitle","_useState5","_useState6","time","setTime","getMessages","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fetchedData","keys","wrap","_callee$","_context","prev","next","sent","Object","ranking","update_at","console","log","stop","apply","arguments","children","className","class","map","_ref2","index","_ref3","img","village","score","area_welfare","town_welfare","town_culture","town_facility","town_citizen","href","src","alt","toFixed"],"sources":["C:/Users/LG/Desktop/오아시스/main/frontend/src/screens/Clean_more.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate,useLocation } from 'react-router-dom';\r\nimport { FaLeaf } from \"react-icons/fa6\";\r\nimport fetcher from \"../fetcher.js\";\r\n\r\nexport default function Clean() {\r\n    const location = useLocation();\r\n    const searchParams = new URLSearchParams(location.search);\r\n    const num = searchParams.get('num');\r\n\r\n    \r\n    const [data, setData] = useState([]);\r\n    const [title, setTitle] = useState([]);\r\n    const [time, setTime] = useState();\r\n\r\n    const getMessages = async () => {\r\n        const fetchedData = await fetcher(\"get\", \"/town/ranking/\");\r\n        const keys = Object.keys(fetchedData.ranking);\r\n        setData(fetchedData.ranking[keys[num]]);\r\n        setTitle(keys[num]);\r\n        setTime(fetchedData.update_at);\r\n        console.log(keys[num]);\r\n    };\r\n      \r\n    useEffect(() => {\r\n        getMessages();\r\n        console.log('서버 연결 완료');\r\n        console.log(data);\r\n    }, []);\r\n\r\n    return (\r\n        <main>\r\n            {/* <div className=\"sub_title\">\r\n                <div className=\"inner_wrap\">\r\n                    <p>호남 농촌 <FaLeaf color=\"#79A73F\"></FaLeaf> </p>\r\n                    <p>클린마을 순위를</p>\r\n                    <p>확인해 보세요</p>\r\n                    <span>\r\n                        귀농 희망자들을 위한 마을 별 평가에 기반한 순위입니다. <br />\r\n                        여러 클린마을 랭킹을 알아보세요!\r\n                    </span>\r\n                </div>\r\n                <div className=\"gradient_box\"></div>\r\n            </div> */}\r\n            <div className=\"rank\">\r\n                <div className=\"inner_wrap\">\r\n                    <div class=\"rank_head\">\r\n                        <p>{title} 클린마을 순위</p>        \r\n                        {/* <p>클린마을 순위</p>         */}\r\n                        <span>업데이트 일시 <em>{time}</em></span>\r\n                    </div>\r\n                    <div className=\"rank_boxs\">\r\n                        <div className=\"rank_box_more\">\r\n\r\n                            <ul className=\"rank_lists\">\r\n                                {data.map(([img,village, score, area_welfare, town_welfare, town_culture, town_facility,town_citizen], index) => (\r\n                                    <li key={index}>\r\n                                        <p>{index + 1}위</p>\r\n                                        <div className=\"rank_img\"><a href=\"#\"><img src={\"http://localhost:8000\"+img} alt=\"\" /></a></div>\r\n                                        <span><a href=\"#\">{village}</a></span>\r\n                                        <h5>지역 복지:<span>{area_welfare}</span> 마을 복지:<span>{town_welfare}</span> 마을 문화:<span>{town_culture}</span> 마을 시설:<span>{town_facility}</span> 마을 주민:<span>{town_citizen}</span></h5>\r\n                                        <h3>{score !== null ? score.toFixed(1) : 'N/A'}<em>/5</em></h3>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}